{"remainingRequest":"/Users/yanagi/programming/live-chat-vuejs/node_modules/babel-loader/lib/index.js!/Users/yanagi/programming/live-chat-vuejs/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/yanagi/programming/live-chat-vuejs/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/yanagi/programming/live-chat-vuejs/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/yanagi/programming/live-chat-vuejs/src/components/Navbar.vue?vue&type=template&id=41458b80&scoped=true","dependencies":[{"path":"/Users/yanagi/programming/live-chat-vuejs/src/components/Navbar.vue","mtime":1638148207305},{"path":"/Users/yanagi/programming/live-chat-vuejs/babel.config.js","mtime":1637909021919},{"path":"/Users/yanagi/programming/live-chat-vuejs/node_modules/cache-loader/dist/cjs.js","mtime":1637908768660},{"path":"/Users/yanagi/programming/live-chat-vuejs/node_modules/babel-loader/lib/index.js","mtime":1637908770962},{"path":"/Users/yanagi/programming/live-chat-vuejs/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1637908771736},{"path":"/Users/yanagi/programming/live-chat-vuejs/node_modules/cache-loader/dist/cjs.js","mtime":1637908768660},{"path":"/Users/yanagi/programming/live-chat-vuejs/node_modules/vue-loader-v16/dist/index.js","mtime":1637908768201}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCB7IHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZSwgY3JlYXRlVGV4dFZOb2RlIGFzIF9jcmVhdGVUZXh0Vk5vZGUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jaywgcHVzaFNjb3BlSWQgYXMgX3B1c2hTY29wZUlkLCBwb3BTY29wZUlkIGFzIF9wb3BTY29wZUlkIH0gZnJvbSAidnVlIjsKCnZhciBfd2l0aFNjb3BlSWQgPSBmdW5jdGlvbiBfd2l0aFNjb3BlSWQobikgewogIHJldHVybiBfcHVzaFNjb3BlSWQoImRhdGEtdi00MTQ1OGI4MCIpLCBuID0gbigpLCBfcG9wU2NvcGVJZCgpLCBuOwp9OwoKdmFyIF9ob2lzdGVkXzEgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVRleHRWTm9kZSgi44GT44KT44Gr44Gh44Gv44CBIik7Cgp2YXIgX2hvaXN0ZWRfMiA9IHsKICBjbGFzczogIm5hbWUiCn07Cgp2YXIgX2hvaXN0ZWRfMyA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVGV4dFZOb2RlKCLjgZXjgpMiKTsKCnZhciBfaG9pc3RlZF80ID0gewogIGNsYXNzOiAiZW1haWwiCn07CnZhciBfaG9pc3RlZF81ID0gewogIGNsYXNzOiAiZXJyb3IiCn07CmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygibmF2IiwgbnVsbCwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIG51bGwsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJwIiwgbnVsbCwgW19ob2lzdGVkXzEsIF9jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBfaG9pc3RlZF8yLCBfdG9EaXNwbGF5U3RyaW5nKCRkYXRhLm5hbWUpLCAxCiAgLyogVEVYVCAqLwogICksIF9ob2lzdGVkXzNdKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgicCIsIF9ob2lzdGVkXzQsICLnj77lnKjjgIEiICsgX3RvRGlzcGxheVN0cmluZygkZGF0YS5lbWFpbCkgKyAi44Gn44Ot44Kw44Kk44Oz5Lit44Gn44GZIiwgMQogIC8qIFRFWFQgKi8KICApLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF81LCBfdG9EaXNwbGF5U3RyaW5nKCRkYXRhLmVycm9yKSwgMQogIC8qIFRFWFQgKi8KICApXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImJ1dHRvbiIsIHsKICAgIG9uQ2xpY2s6IF9jYWNoZVswXSB8fCAoX2NhY2hlWzBdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gJG9wdGlvbnMubG9nb3V0ICYmICRvcHRpb25zLmxvZ291dC5hcHBseSgkb3B0aW9ucywgYXJndW1lbnRzKTsKICAgIH0pCiAgfSwgIuODreOCsOOCouOCpuODiCIpXSk7Cn0="},{"version":3,"sources":["/Users/yanagi/programming/live-chat-vuejs/src/components/Navbar.vue"],"names":[],"mappings":";;;;;;;+CAGS,Q;;;AAAY,EAAA,KAAK,EAAC;;;+CAAwB,I;;;AAC1C,EAAA,KAAK,EAAC;;;AACJ,EAAA,KAAK,EAAC;;;uBAJf,mBAAA,CAOM,KAPN,EAOM,IAPN,EAOM,CANJ,mBAAA,CAIM,KAJN,EAIM,IAJN,EAIM,CAHJ,mBAAA,CAAmD,GAAnD,EAAmD,IAAnD,EAAmD,C,UAAA,EAA1C,mBAAA,CAAoC,MAApC,EAAA,UAAA,EAAoC,gBAAA,CAAd,KAAA,CAAA,IAAc,CAApC,EAA0B;AAAA;AAA1B,GAA0C,E,UAAA,CAAnD,CAGI,EAFJ,mBAAA,CAA2C,GAA3C,EAAA,UAAA,EAAiB,QAAG,gBAAA,CAAG,KAAA,CAAA,KAAH,CAAH,GAAc,UAA/B,EAAuC;AAAA;AAAvC,GAEI,EADJ,mBAAA,CAAoC,KAApC,EAAA,UAAA,EAAoC,gBAAA,CAAd,KAAA,CAAA,KAAc,CAApC,EAA2B;AAAA;AAA3B,GACI,CAJN,CAMI,EADJ,mBAAA,CAAsC,QAAtC,EAAsC;AAA7B,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,aAAE,QAAA,CAAA,MAAA,IAAA,QAAA,CAAA,MAAA,OAAA,QAAA,YAAF;AAAA,KAAA;AAAwB,GAAtC,EAAwB,OAAxB,CACI,CAPN,C","sourcesContent":["<template>\n  <nav>\n    <div>\n      <p>こんにちは、<span class=\"name\">{{ name }}</span>さん</p>\n      <p class=\"email\">現在、{{ email }}でログイン中です</p>\n      <div class=\"error\">{{ error }}</div>\n    </div>\n    <button @click=\"logout\">ログアウト</button>\n  </nav>\n</template>\n\n<script>\nimport axios from 'axios'\nexport default {\n  data () {\n    return {\n      name: window.localStorage.getItem('name'),\n      email: window.localStorage.getItem('uid'),\n      error: null\n    }\n  },\n  methods: {\n    async logout () {\n      this.error = null\n      try {\n        const res = await axios.delete('http://localhost:3000/auth/sign_out', {\n          headers: {\n            uid: this.email,\n            \"access-token\": window.localStorage.getItem('access-token'),\n            client: window.localStorage.getItem('client')\n          }\n        })\n        if (!res) {\n          new Error('ログアウトできませんでした')\n        }\n\n        if (!this.error) {\n          console.log(\"ログアウトしました\")\n          window.localStorage.removeItem('access-token')\n          window.localStorage.removeItem('client')\n          window.localStorage.removeItem('uid')\n          window.localStorage.removeItem('name')\n          this.$router.push({ name: 'Welcome'})\n        }\n        return res\n      } catch (error) {\n        this.error = 'ログアウトできませんでした'\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\nnav {\n  padding: 20px;\n  border-bottom: 1px solid #eee;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\nnav p {\n  margin: 2px auto;\n  font-size: 16px;\n  color: #444;\n}\nnav p.email {\n  font-size: 14px;\n  color: #999;\n}\n</style>\n"],"sourceRoot":""}]}