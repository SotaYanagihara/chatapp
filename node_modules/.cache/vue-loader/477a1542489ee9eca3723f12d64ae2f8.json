{"remainingRequest":"/Users/yanagi/programming/live-chat-vuejs/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/yanagi/programming/live-chat-vuejs/src/components/ChatWindow.vue?vue&type=style&index=0&id=3af19f98&scoped=true&lang=css","dependencies":[{"path":"/Users/yanagi/programming/live-chat-vuejs/src/components/ChatWindow.vue","mtime":1638953146658},{"path":"/Users/yanagi/programming/live-chat-vuejs/node_modules/css-loader/dist/cjs.js","mtime":1637908768207},{"path":"/Users/yanagi/programming/live-chat-vuejs/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1637908771519},{"path":"/Users/yanagi/programming/live-chat-vuejs/node_modules/postcss-loader/src/index.js","mtime":1637908768300},{"path":"/Users/yanagi/programming/live-chat-vuejs/node_modules/cache-loader/dist/cjs.js","mtime":1637908768660},{"path":"/Users/yanagi/programming/live-chat-vuejs/node_modules/vue-loader-v16/dist/index.js","mtime":1637908768201}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgLmNoYXQtd2luZG93IHsKICAgIGJhY2tncm91bmQ6IHdoaXRlOwogICAgcGFkZGluZzogMzBweCAyMHB4OwogICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlZWU7CiAgfQogIHVsIHsKICAgIGxpc3Qtc3R5bGU6IG5vbmU7CiAgICBtYXJnaW46IDA7CiAgICBwYWRkaW5nOiAwOwogIH0KICB1bCBsaSB7CiAgICBkaXNwbGF5OmlubGluZS1ibG9jazsKICAgIGNsZWFyOiBib3RoOwogIH0KICAucmVjZWl2ZWQgLm1lc3NhZ2UgewogICAgYmFja2dyb3VuZDogI2VlZTsKICAgIHBhZGRpbmc6IDEwcHg7CiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICBib3JkZXItcmFkaXVzOiAzMHB4OwogICAgbWFyZ2luLWJvdHRvbTogMnB4OwogICAgbWF4LXdpZHRoOiA0MDBweDsKICB9CiAgLnJlY2VpdmVkIHsKICAgIGZsb2F0OiBsZWZ0OwogIH0KICAuc2VudCB7CiAgICBmbG9hdDogcmlnaHQ7CiAgfQogIC5zZW50IC5tZXNzYWdlIHsKICAgIGJhY2tncm91bmQ6ICM2NzdiYjQ7CiAgICBjb2xvcjogd2hpdGU7CiAgICBwYWRkaW5nOiAxMHB4OwogICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgYm9yZGVyLXJhZGl1czogMzBweDsKICAgIG1hcmdpbi1ib3R0b206IDJweDsKICAgIG1heC13aWR0aDogNDAwcHg7CiAgfQogIC5uYW1lIHsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgIG1hcmdpbi1yaWdodDogNnB4OwogICAgZGlzcGxheTogYmxvY2s7CiAgICBmb250LXNpemU6IDEzcHg7CiAgfQogIC5jcmVhdGVkLWF0IHsKICAgIGRpc3BsYXk6IGJsb2NrOwogICAgY29sb3I6ICM5OTk7CiAgICBmb250LXNpemU6IDEycHg7CiAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogICAgbWFyZ2luLWxlZnQ6IDRweDsKICB9CiAgLm1lc3NhZ2VzIHsKICAgIG1heC1oZWlnaHQ6IDQwMHB4OwogICAgb3ZlcmZsb3c6IGF1dG87CiAgfQogIC5tZXNzYWdlIHsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICB9CiAgLmhlYXJ0LWNvbnRhaW5lciB7CiAgICBiYWNrZ3JvdW5kOiB3aGl0ZTsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICBib3JkZXItcmFkaXVzOiAzMHB4OwogICAgbWluLXdpZHRoOiAyNXB4OwogICAgYm9yZGVyLXN0eWxlOiBzb2xpZDsKICAgIGJvcmRlci13aWR0aDogMXB4OwogICAgYm9yZGVyLWNvbG9yOiByZ2IoMjQ1LCAyNDUsIDI0NSk7CiAgICBwYWRkaW5nOiAxcHggMnB4OwogICAgei1pbmRleDogMjsKICAgIGJvdHRvbTogLTdweDsKICAgIHJpZ2h0OiAwcHg7CiAgICBmb250LXNpemU6IDlweDsKICB9CiAgLmhlYXJ0IHsKICAgIGNvbG9yOiByZ2IoMjM2LCAyOSwgMjkpOwogIH0KICAuaGVhcnQtY291bnQgewogICAgY29sb3I6IHJnYigyMCwgMTksIDE5KTsKICB9CiAgLnJlY2VpdmVkIC5tZXNzYWdlOjpzZWxlY3Rpb24gewogICAgYmFja2dyb3VuZDogI2VlZTsKICB9CgogIC5zZW50IC5tZXNzYWdlOjpzZWxlY3Rpb24gewogICAgYmFja2dyb3VuZDogIzY3N2JiNDsKICB9Cg=="},{"version":3,"sources":["/Users/yanagi/programming/live-chat-vuejs/src/components/ChatWindow.vue"],"names":[],"mappings":"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","file":"/Users/yanagi/programming/live-chat-vuejs/src/components/ChatWindow.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"chat-window\">\n    <h1>チャットウィンドウ</h1>\n    <div v-if=\"messages\" class=\"messages\">\n      <ul v-for=\"message in messages\" :key=\"message.id\">\n        <li :class=\"{ received: message.email !== uid, sent: message.email === uid }\">\n          <span class=\"name\">{{ message.name }}</span>\n          <div class=\"message\" @dblclick=\"handleLike(message)\">\n            {{ message.content }}\n            <div v-if=\"message.likes.length\" class=\"heart-container\">\n              <font-awesome-icon icon=\"heart\" class=\"heart\" />\n              <span class=\"heart-count\">{{ message.likes.length }}</span>\n            </div>\n          </div>\n          <span class=\"created-at\">{{ message.created_at }}</span>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n  emits: ['connectCable'],\n  props: ['messages'],\n  data () {\n    return {\n      uid: localStorage.getItem('uid')\n    }\n  },\n  methods: {\n    handleLike (message) {\n      for (let i = 0; i < message.likes.length; i++) {\n        const like = message.likes[i]\n        if (like.email === this.uid) {\n          this.deleteLike(like.id, message.id)\n          return\n        }\n      }\n      this.createLike(message.id)\n    },\n    async createLike (messageId) {\n      try {\n        const res = await axios.post(`http://localhost:3000/messages/${messageId}/likes`, {},\n          {\n            headers: {\n              uid: this.uid,\n              \"access-token\": window.localStorage.getItem('access-token'),\n              client: window.localStorage.getItem('client')\n            }\n          })\n\n        if (!res) {\n          new Error('いいねできませんでした')\n        }\n        this.$emit('connectCable')\n      } catch (error) {\n        console.log(error)\n      }\n    },\n    async deleteLike(likeId) {\n      try {\n        const res = await axios.delete('http://localhost:3000/likes/${likeId}',\n        {\n          headers: {\n            uid: this.uid,\n            \"access-token\": window.localStorage.getItem('access-token'),\n            client: window.localStorage.getItem('client')\n          }\n        })\n\n        if (!res) {\n          new Error('いいねを削除できませんでした')\n        }\n        this.$emit('connectCable')\n      } catch (error) {\n        console.log(error)\n      }\n    },\n  }\n}\n</script>\n\n<style scoped>\n  .chat-window {\n    background: white;\n    padding: 30px 20px;\n    border-bottom: 1px solid #eee;\n  }\n  ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n  }\n  ul li {\n    display:inline-block;\n    clear: both;\n  }\n  .received .message {\n    background: #eee;\n    padding: 10px;\n    display: inline-block;\n    border-radius: 30px;\n    margin-bottom: 2px;\n    max-width: 400px;\n  }\n  .received {\n    float: left;\n  }\n  .sent {\n    float: right;\n  }\n  .sent .message {\n    background: #677bb4;\n    color: white;\n    padding: 10px;\n    display: inline-block;\n    border-radius: 30px;\n    margin-bottom: 2px;\n    max-width: 400px;\n  }\n  .name {\n    position: relative;\n    margin-right: 6px;\n    display: block;\n    font-size: 13px;\n  }\n  .created-at {\n    display: block;\n    color: #999;\n    font-size: 12px;\n    margin-bottom: 20px;\n    margin-left: 4px;\n  }\n  .messages {\n    max-height: 400px;\n    overflow: auto;\n  }\n  .message {\n    position: relative;\n  }\n  .heart-container {\n    background: white;\n    position: absolute;\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n    border-radius: 30px;\n    min-width: 25px;\n    border-style: solid;\n    border-width: 1px;\n    border-color: rgb(245, 245, 245);\n    padding: 1px 2px;\n    z-index: 2;\n    bottom: -7px;\n    right: 0px;\n    font-size: 9px;\n  }\n  .heart {\n    color: rgb(236, 29, 29);\n  }\n  .heart-count {\n    color: rgb(20, 19, 19);\n  }\n  .received .message::selection {\n    background: #eee;\n  }\n\n  .sent .message::selection {\n    background: #677bb4;\n  }\n</style>\n"]}]}