{"remainingRequest":"/Users/yanagi/programming/live-chat-vuejs/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/yanagi/programming/live-chat-vuejs/src/components/Navbar.vue?vue&type=style&index=0&id=41458b80&scoped=true&lang=css","dependencies":[{"path":"/Users/yanagi/programming/live-chat-vuejs/src/components/Navbar.vue","mtime":1638148207305},{"path":"/Users/yanagi/programming/live-chat-vuejs/node_modules/css-loader/dist/cjs.js","mtime":1637908768207},{"path":"/Users/yanagi/programming/live-chat-vuejs/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1637908771519},{"path":"/Users/yanagi/programming/live-chat-vuejs/node_modules/postcss-loader/src/index.js","mtime":1637908768300},{"path":"/Users/yanagi/programming/live-chat-vuejs/node_modules/cache-loader/dist/cjs.js","mtime":1637908768660},{"path":"/Users/yanagi/programming/live-chat-vuejs/node_modules/vue-loader-v16/dist/index.js","mtime":1637908768201}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Cm5hdiB7CiAgcGFkZGluZzogMjBweDsKICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2VlZTsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICBhbGlnbi1pdGVtczogY2VudGVyOwp9Cm5hdiBwIHsKICBtYXJnaW46IDJweCBhdXRvOwogIGZvbnQtc2l6ZTogMTZweDsKICBjb2xvcjogIzQ0NDsKfQpuYXYgcC5lbWFpbCB7CiAgZm9udC1zaXplOiAxNHB4OwogIGNvbG9yOiAjOTk5Owp9Cg=="},{"version":3,"sources":["/Users/yanagi/programming/live-chat-vuejs/src/components/Navbar.vue"],"names":[],"mappings":";AAsDA,CAAC,CAAC,EAAE;EACF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EAC7B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAC9B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACrB;AACA,CAAC,CAAC,EAAE,EAAE;EACJ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACf,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACb;AACA,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACf,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACb","file":"/Users/yanagi/programming/live-chat-vuejs/src/components/Navbar.vue","sourceRoot":"","sourcesContent":["<template>\n  <nav>\n    <div>\n      <p>こんにちは、<span class=\"name\">{{ name }}</span>さん</p>\n      <p class=\"email\">現在、{{ email }}でログイン中です</p>\n      <div class=\"error\">{{ error }}</div>\n    </div>\n    <button @click=\"logout\">ログアウト</button>\n  </nav>\n</template>\n\n<script>\nimport axios from 'axios'\nexport default {\n  data () {\n    return {\n      name: window.localStorage.getItem('name'),\n      email: window.localStorage.getItem('uid'),\n      error: null\n    }\n  },\n  methods: {\n    async logout () {\n      this.error = null\n      try {\n        const res = await axios.delete('http://localhost:3000/auth/sign_out', {\n          headers: {\n            uid: this.email,\n            \"access-token\": window.localStorage.getItem('access-token'),\n            client: window.localStorage.getItem('client')\n          }\n        })\n        if (!res) {\n          new Error('ログアウトできませんでした')\n        }\n\n        if (!this.error) {\n          console.log(\"ログアウトしました\")\n          window.localStorage.removeItem('access-token')\n          window.localStorage.removeItem('client')\n          window.localStorage.removeItem('uid')\n          window.localStorage.removeItem('name')\n          this.$router.push({ name: 'Welcome'})\n        }\n        return res\n      } catch (error) {\n        this.error = 'ログアウトできませんでした'\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\nnav {\n  padding: 20px;\n  border-bottom: 1px solid #eee;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\nnav p {\n  margin: 2px auto;\n  font-size: 16px;\n  color: #444;\n}\nnav p.email {\n  font-size: 14px;\n  color: #999;\n}\n</style>\n"]}]}