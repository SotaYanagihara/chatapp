{"remainingRequest":"/Users/yanagi/programming/live-chat-vuejs/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/yanagi/programming/live-chat-vuejs/src/components/ChatWindow.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/yanagi/programming/live-chat-vuejs/src/components/ChatWindow.vue","mtime":1638935684881},{"path":"/Users/yanagi/programming/live-chat-vuejs/node_modules/cache-loader/dist/cjs.js","mtime":1637908768660},{"path":"/Users/yanagi/programming/live-chat-vuejs/node_modules/babel-loader/lib/index.js","mtime":1637908770962},{"path":"/Users/yanagi/programming/live-chat-vuejs/node_modules/cache-loader/dist/cjs.js","mtime":1637908768660},{"path":"/Users/yanagi/programming/live-chat-vuejs/node_modules/vue-loader-v16/dist/index.js","mtime":1637908768201}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKCmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogWydtZXNzYWdlcyddLAogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgdWlkOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndWlkJykKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGNyZWF0ZUxpa2UgKG1lc3NhZ2VJZCkgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGF4aW9zLnBvc3QoYGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9tZXNzYWdlcy8ke21lc3NhZ2VJZH0vbGlrZXNgLCB7fSwKICAgICAgICAgIHsKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgIHVpZDogdGhpcy51aWQsCiAgICAgICAgICAgICAgImFjY2Vzcy10b2tlbiI6IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYWNjZXNzLXRva2VuJyksCiAgICAgICAgICAgICAgY2xpZW50OiB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NsaWVudCcpCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCgogICAgICAgIGlmICghcmVzKSB7CiAgICAgICAgICBuZXcgRXJyb3IoJ+OBhOOBhOOBreOBp+OBjeOBvuOBm+OCk+OBp+OBl+OBnycpCiAgICAgICAgfQoKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikKICAgICAgfQogICAgfQogIH0KfQo="},{"version":3,"sources":["/Users/yanagi/programming/live-chat-vuejs/src/components/ChatWindow.vue"],"names":[],"mappings":"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","file":"/Users/yanagi/programming/live-chat-vuejs/src/components/ChatWindow.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"chat-window\">\n    <h1>チャットウィンドウ</h1>\n    <div v-if=\"messages\" class=\"messages\">\n      <ul v-for=\"message in messages\" :key=\"message.id\">\n        <li :class=\"{ received: message.email !== uid, sent: message.email === uid }\">\n          <span class=\"name\">{{ message.name }}</span>\n          <div class=\"message\" @dblclick=\"createLike(message.id)\">\n            {{ message.content }}\n            {{ message.likes.length }}\n          </div>\n          <span class=\"created-at\">{{ message.created_at }}</span>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n  props: ['messages'],\n  data () {\n    return {\n      uid: localStorage.getItem('uid')\n    }\n  },\n  methods: {\n    async createLike (messageId) {\n      try {\n        const res = await axios.post(`http://localhost:3000/messages/${messageId}/likes`, {},\n          {\n            headers: {\n              uid: this.uid,\n              \"access-token\": window.localStorage.getItem('access-token'),\n              client: window.localStorage.getItem('client')\n            }\n          })\n\n        if (!res) {\n          new Error('いいねできませんでした')\n        }\n\n      } catch (error) {\n        console.log(error)\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n  .chat-window {\n    background: white;\n    padding: 30px 20px;\n    border-bottom: 1px solid #eee;\n  }\n  ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n  }\n  ul li {\n    display:inline-block;\n    clear: both;\n  }\n  .received .message {\n    background: #eee;\n    padding: 10px;\n    display: inline-block;\n    border-radius: 30px;\n    margin-bottom: 2px;\n    max-width: 400px;\n  }\n  .received {\n    float: left;\n  }\n  .sent {\n    float: right;\n  }\n  .sent .message {\n    background: #677bb4;\n    color: white;\n    padding: 10px;\n    display: inline-block;\n    border-radius: 30px;\n    margin-bottom: 2px;\n    max-width: 400px;\n  }\n  .name {\n    position: relative;\n    margin-right: 6px;\n    display: block;\n    font-size: 13px;\n  }\n  .created-at {\n    display: block;\n    color: #999;\n    font-size: 12px;\n    margin-bottom: 20px;\n    margin-left: 4px;\n  }\n  .messages {\n    max-height: 400px;\n    overflow: auto;\n  }\n</style>\n"]}]}