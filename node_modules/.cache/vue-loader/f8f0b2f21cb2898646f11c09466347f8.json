{"remainingRequest":"/Users/yanagi/chatapp/live-chat-rails/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/yanagi/chatapp/live-chat-rails/src/components/LoginForm.vue?vue&type=template&id=8dac4566","dependencies":[{"path":"/Users/yanagi/chatapp/live-chat-rails/src/components/LoginForm.vue","mtime":1638146691785},{"path":"/Users/yanagi/chatapp/live-chat-rails/node_modules/cache-loader/dist/cjs.js","mtime":1637908768660},{"path":"/Users/yanagi/chatapp/live-chat-rails/node_modules/babel-loader/lib/index.js","mtime":1637908770962},{"path":"/Users/yanagi/chatapp/live-chat-rails/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1637908771736},{"path":"/Users/yanagi/chatapp/live-chat-rails/node_modules/cache-loader/dist/cjs.js","mtime":1637908768660},{"path":"/Users/yanagi/chatapp/live-chat-rails/node_modules/vue-loader-v16/dist/index.js","mtime":1637908768201}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGgyPuODreOCsOOCpOODszwvaDI+CiAgPGZvcm0gQHN1Ym1pdC5wcmV2ZW50PSJsb2dpbiI+CiAgICA8aW5wdXQgdHlwZT0iZW1haWwiIHJlcXVpcmVkIHBsYWNlaG9sZGVyPSLjg6Hjg7zjg6vjgqLjg4njg6zjgrkiIHYtbW9kZWw9ImVtYWlsIj4KICAgIDxpbnB1dCB0eXBlPSJwYXNzd29yZCIgcmVxdWlyZWQgcGxhY2Vob2xkZXI9IuODkeOCueODr+ODvOODiSIgdi1tb2RlbD0icGFzc3dvcmQiPgogICAgPGRpdiBjbGFzcz0iZXJyb3IiPnt7IGVycm9yIH19PC9kaXY+CiAgICA8YnV0dG9uPuODreOCsOOCpOODs+OBmeOCizwvYnV0dG9uPgogIDwvZm9ybT4K"},{"version":3,"sources":["/Users/yanagi/chatapp/live-chat-rails/src/components/LoginForm.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACZ,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3B,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAClE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACtE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACnC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACxB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/Users/yanagi/chatapp/live-chat-rails/src/components/LoginForm.vue","sourceRoot":"","sourcesContent":["<template>\n  <h2>ログイン</h2>\n  <form @submit.prevent=\"login\">\n    <input type=\"email\" required placeholder=\"メールアドレス\" v-model=\"email\">\n    <input type=\"password\" required placeholder=\"パスワード\" v-model=\"password\">\n    <div class=\"error\">{{ error }}</div>\n    <button>ログインする</button>\n  </form>\n</template>\n\n<script>\nimport axios from 'axios'\nimport setItem from '../auth/setItem'\nexport default {\n  emits: ['redirectToChatRoom'],\n  data () {\n    return {\n      email: '',\n      password: '',\n      error: null\n    }\n  },\n  methods: {\n    async login() {\n      try {\n        this.error = null\n\n        const res = await axios.post('http://localhost:3000/auth/sign_in', {\n          email: this.email,\n          password: this.password,\n          }\n        )\n        if (!res) {\n          throw new Error('メールアドレスかパスワードが違います')\n        }\n        if (!this.error) {\n          setItem(res.headers, res.data.data.name)\n          this.$emit('redirectToChatRoom')\n        }\n\n        console.log({ res })\n        return res\n      } catch (error) {\n        console.log({ error })\n        this.error = 'メールアドレスかパスワードが違います'\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"css\" scoped>\n</style>\n"]}]}